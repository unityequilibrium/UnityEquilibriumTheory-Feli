
‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏Ñ‡∏∑‡∏≠ **ONE-PAGE UI BLUEPRINT v0.3 (FULL + CLEAN)**  
(‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö + ‡∏ö‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á/‡∏õ‡∏∏‡πà‡∏°/‡∏ä‡πà‡∏≠‡∏á/‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏£‡∏ö)

---

# ‚úÖ UET LAB ‚Äî ONE PAGE UI BLUEPRINT (v0.3 FINAL PATTERN: 1-1-1 + DOCK + OUTPUT-ONLY SAVE/EXPORT)

```
SCREEN 100vw x 100vh
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ TOP NAV (48px)                                                                              ‚îÇ
‚îÇ [UET] [Home] [Gallery] [Lab] [Diagnostics]     LAB / {presetName}                           ‚îÇ
‚îÇ                                    [UNIT MODE: Physical‚ñº] [FPS] [‚öô Settings] [‚éã Back]      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ MAIN WORKSPACE                                                                              ‚îÇ
‚îÇ                                                                                            ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     WORLD CANVAS (3D)     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ LEFT PANEL (OUTPUT)           ‚îÇ  (always visible background)‚îÇ RIGHT PANEL (STUDIO)     ‚îÇ ‚îÇ
‚îÇ ‚îÇ [‚óÄ HIDE]                      ‚îÇ                            ‚îÇ [HIDE ‚ñ∂]                   ‚îÇ ‚îÇ
‚îÇ ‚îÇ                               ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ (A) VIEW/MODE BAR             ‚îÇ                            ‚îÇ (A) TAB BAR (fixed)        ‚îÇ ‚îÇ
‚îÇ ‚îÇ  View: [PHY] [UET] [IND] [#]  ‚îÇ                            ‚îÇ  [Equations][Params]        ‚îÇ ‚îÇ
‚îÇ ‚îÇ  UnitCat: [QNT] [QLT] [ALL]   ‚îÇ                            ‚îÇ  [Inspector][Notes(+)]      ‚îÇ ‚îÇ
‚îÇ ‚îÇ                               ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ (B) METRIC CARDS (1-1-1)      ‚îÇ                            ‚îÇ (B) EQUATIONS TAB           ‚îÇ ‚îÇ
‚îÇ ‚îÇ  [Search metric‚Ä¶]             ‚îÇ                            ‚îÇ  Newtonian  [ON]  Role[‚ñº]   ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ                            ‚îÇ  GR         [OFF]           ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [‚ñ¢] Total Energy (E)    ‚îÇ  ‚îÇ                            ‚îÇ  UET        [OFF]           ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ -2534.11  J  [QNT][PHY] ‚îÇ  ‚îÇ                            ‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ     ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [Graph ‚ñæ]  (collapsed)  ‚îÇ  ‚îÇ                            ‚îÇ  Selected Module: Newtonian  ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ                            ‚îÇ  [Docs]                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [‚ñ¢] Kinetic (K)          ‚îÇ  ‚îÇ                            ‚îÇ (C) PARAMS TAB               ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ 2484.47  J  [QNT][PHY]   ‚îÇ  ‚îÇ                            ‚îÇ  Run Name: [____________]    ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [Graph ‚ñæ]                ‚îÇ  ‚îÇ                            ‚îÇ  dt: [ 0.01 ] (slider+inp)   ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ                            ‚îÇ  Steps/Frame: [ 1 ]          ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ                            ‚îÇ  Integrator: [Leapfrog‚ñº]     ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [‚ñ¢] Potential (U)        ‚îÇ  ‚îÇ                            ‚îÇ  Substeps: [ 1 ]             ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ -5018.58  J  [QNT][PHY]  ‚îÇ  ‚îÇ                            ‚îÇ  Softening Œµ: [ 0.00 ]        ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [Graph ‚ñæ]                ‚îÇ  ‚îÇ                            ‚îÇ  G: [ 1.00 ]                  ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ                            ‚îÇ  (Module params auto-load)    ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ                            ‚îÇ  [Reset Params] [Apply Params]‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [‚ñ¢] Angular Mom |L|      ‚îÇ  ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ 8.09e+4 kg¬∑m¬≤/s [QNT][PHY]‚îÇ ‚îÇ                            ‚îÇ (D) INSPECTOR TAB             ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îÇ [Graph ‚ñæ]                ‚îÇ  ‚îÇ                            ‚îÇ  Solver state (read-only)     ‚îÇ ‚îÇ
‚îÇ ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  (More cards scroll‚Ä¶)        ‚îÇ                            ‚îÇ (E) NOTES TAB                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ                               ‚îÇ                            ‚îÇ  [Ôºã New Note]                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ (C) VALIDATION STRIP          ‚îÇ                            ‚îÇ  Notes list (left) + editor    ‚îÇ ‚îÇ
‚îÇ ‚îÇ  [‚úÖPASS] [‚ùåFAIL] [üüßEXP]     ‚îÇ                            ‚îÇ  (autosave chip)               ‚îÇ ‚îÇ
‚îÇ ‚îÇ  Reason: {1-line} [Details]   ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ                               ‚îÇ                            ‚îÇ  (No Save/Export here)         ‚îÇ ‚îÇ
‚îÇ ‚îÇ (D) SELECTION INSPECTOR       ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  Selected: {entityName}       ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  id: {id}                      ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  pos: (x,y,z) m [QNT][PHY]    ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  vel: (vx,vy,vz) m/s[QNT][PHY]‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  mass: {val} kg [QNT][PHY]    ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ                               ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ (E) RESULTS ACTIONS (OUTPUT)  ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  [üíæ Save to Gallery/DB]       ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  [‚¨á Export‚Ä¶]                  ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îÇ  [üß™ Validate this Lab]        ‚îÇ                            ‚îÇ                            ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                                            ‚îÇ
‚îÇ (When LEFT hidden)  [‚ñ∂ SHOW OUTPUT]         (When RIGHT hidden) [SHOW STUDIO ‚óÄ]            ‚îÇ
‚îÇ                                                                                            ‚îÇ
‚îÇ CENTER HUD (floating, top-center, offset 12px)                                              ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [Preset‚ñº] [‚èµPlay] [‚è∏Pause] [‚è≠Step]  Speed:[‚Äî‚óè‚Äî‚Äî]  t:{val}s [QNT]  steps:{val}# [COUNT] ‚îÇ ‚îÇ
‚îÇ ‚îÇ (NO Save/Export here)   [üìä Open Dock]   [üìå Pin Metric]   [‚ü≤ Reset Run]                 ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                                            ‚îÇ
‚îÇ GRAPH DOCK (BOTTOM, collapsible)                                                           ‚îÇ
‚îÇ [‚ñ≤] handle   Selected: [TotalE ‚úï] [Kinetic ‚úï] [Œ© ‚úï]  [Clear]  View:[Time‚ñº]  Range:[Auto‚ñº] ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ PLOT AREA (Plotly)                                                                      ‚îÇ ‚îÇ
‚îÇ ‚îÇ - Auto-group overlay: same plot_group only                                               ‚îÇ ‚îÇ
‚îÇ ‚îÇ - Mixed groups ‚Üí auto-split into stacked plots                                           ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                                                                            ‚îÇ
‚îÇ TOAST/ALERT ZONE (bottom-left)   [ {N} issues ] [dismiss ‚úï]                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 1) ‚Äú1-1-1‚Äù Metric Card System (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏™‡∏±‡πà‡∏á ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö)

### 1.1 ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏∏‡∏Å‡πÉ‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô (1 metric = 1 card)

**Card content (collapsed default)**

- Checkbox: `[‚ñ¢]` = ‚ÄúAdd to Dock‚Äù
- Label: ‡∏ä‡∏∑‡πà‡∏≠ metric + symbol (‡πÄ‡∏ä‡πà‡∏ô Total Energy (E))
- Value: ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç/‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- UnitBadge: `J, kg, m/s, ‚Ä¶` ‡∏´‡∏£‡∏∑‡∏≠ label ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö QLT
- CategoryBadge: `[QNT]` ‡∏´‡∏£‡∏∑‡∏≠ `[QLT]` ‡∏´‡∏£‡∏∑‡∏≠ `[COUNT]`
- ModeBadge: `[PHY] / [UET] / [IND] / [#]` (‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‚Äù)

**Card actions**

- `[Graph ‚ñæ]` = expand/collapse graph ‚Äú‡∏Ç‡∏≠‡∏á metric ‡∏ô‡∏±‡πâ‡∏ô‚Äù ‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡∏≤‡∏£‡πå‡∏î (mini plot)
- (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏Å‡∏ö‡∏≤‡∏ó ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏õ‡∏•‡∏Å)

### 1.2 Expand behavior

- Collapsed: ‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Ñ‡πà ‚Äú‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‚Äù
- Expanded: ‡πÇ‡∏ä‡∏ß‡πå mini plot ‡∏Ç‡∏≠‡∏á metric ‡∏ô‡∏±‡πâ‡∏ô (‡πÄ‡∏ä‡πà‡∏ô sparkline ‡∏´‡∏£‡∏∑‡∏≠ tiny Plotly)
- Checkbox ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°

---
## 2) Graph Dock (‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á) ‚Äî ‚Äú‡∏ï‡∏¥‡πä‡∏Å‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå‡∏Ç‡πâ‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏á‚Äù

### 2.1 Dock selection flow

- ‡∏ï‡∏¥‡πä‡∏Å checkbox ‡∏ö‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î ‚Üí metric ‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô chip ‡πÉ‡∏ô Dock
- chip ‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° `‚úï` ‡πÄ‡∏≠‡∏≤‡∏≠‡∏≠‡∏Å
- `Clear` ‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### 2.2 Dock view modes (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏á‡πà‡∏≤‡∏¢‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô)

- `View: Time` (default)
- (‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏° Phase/Histogram/3D ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°)
    

### 2.3 Auto-plot rules (‡∏Å‡∏±‡∏ô‡∏á‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢)

- Overlay ‡πÑ‡∏î‡πâ **‡πÄ‡∏â‡∏û‡∏≤‡∏∞** metrics ‡∏ó‡∏µ‡πà `plot_group` ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô (‡πÄ‡∏ä‡πà‡∏ô energy_group)
- ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏ô‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏° ‚Üí Dock ‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡∏ã‡πâ‡∏≠‡∏ô (stacked) ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    
- QLT:
    - ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô markers/bands/events ‡∏´‡∏£‡∏∑‡∏≠ subplot ‡πÅ‡∏¢‡∏Å (‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡πÄ‡∏Å‡∏•‡∏Å‡∏±‡∏ö J)
        
- COUNT:
    - ‡πÄ‡∏õ‡πá‡∏ô annotation/step axis/‡∏´‡∏£‡∏∑‡∏≠ subplot ‡πÅ‡∏¢‡∏Å (‡πÑ‡∏°‡πà‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏™‡πÄ‡∏Å‡∏•‡∏Å‡∏±‡∏ö QNT)

---
## 3) Save vs Export ‚Äî ‡∏•‡πá‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢ + ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏™‡∏±‡πà‡∏á

### 3.1 ‡∏≠‡∏¢‡∏π‡πà ‚Äú‡∏ù‡∏±‡πà‡∏á Output ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‚Äù (Left Panel > Results Actions)

- **[üíæ Save to Gallery/DB]**  
    = ‡πÄ‡∏ã‡∏ü Run/Snapshot ‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡πÇ‡∏ú‡∏•‡πà‡πÉ‡∏ô Gallery/Saved
- **[‚¨á Export‚Ä¶]**  
    = ‡∏≠‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå ‚Äú‡∏ï‡∏≠‡∏ô‡∏Å‡∏î Export‚Äù ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
    - Export modal: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å `CSV / JSON / HTML / Report`
        
- **‡πÑ‡∏°‡πà‡∏°‡∏µ Save/Export ‡∏ù‡∏±‡πà‡∏á Input**
- **‡πÑ‡∏°‡πà‡∏°‡∏µ Save/Export ‡πÉ‡∏ô Center HUD** (‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ã‡πâ‡∏≥/‡∏á‡∏á)

---

## 4) Right Panel Tabs ‚Äî ‡∏ï‡∏±‡∏î ‚ÄúData‚Äù ‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà ‚ÄúNotes(+ New Note)‚Äù ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏™‡∏±‡πà‡∏á

Right Panel ‡πÄ‡∏´‡∏•‡∏∑‡∏≠:

- `[Equations] [Params] [Inspector] [Notes(+)]`  
    **Notes tab ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°** `[Ôºã New Note]` ‡πÄ‡∏™‡∏°‡∏≠ (‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ)

---
## 5) ‡∏´‡∏ô‡πà‡∏ß‡∏¢ 2 ‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏™‡∏±‡πà‡∏á (‡∏ó‡∏≥‡πÉ‡∏´‡πâ AI ‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ß)

### 5.1 Quantitative Units (QNT) ‚Äî ‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì

- ‡∏°‡∏µ dimension/‡πÅ‡∏õ‡∏•‡∏á‡πÑ‡∏î‡πâ: `m, s, kg, J, N, m/s, m/s¬≤, kg¬∑m¬≤/s, ‚Ä¶`
- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô sim units ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏ policy ‡∏ä‡∏±‡∏î:
    - `sim-m, sim-s, sim-J` ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ß‡πà‡∏≤ `1 unit = 1 m` ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ä‡πâ `m` ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á

### 5.2 Qualitative Units (QLT) ‚Äî ‡πÄ‡∏ä‡∏¥‡∏á‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û

- ‡πÑ‡∏°‡πà‡∏°‡∏µ dimension ‡πÅ‡∏ï‡πà‡∏°‡∏µ ‚Äú‡∏ô‡∏¥‡∏¢‡∏≤‡∏°/‡∏ä‡πà‡∏ß‡∏á/enum‚Äù
- ‡πÄ‡∏ä‡πà‡∏ô `stability%`, `grade A‚ÄìF`, `status RUNNING/PAUSED`, `expected_fail`, `compatibility`, `role`

### 5.3 COUNT (‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô) ‚Äî ‡πÄ‡∏õ‡πá‡∏ô subcategory ‡∏ó‡∏µ‡πà‡πÇ‡∏ä‡∏ß‡πå‡∏ä‡∏±‡∏î

- `steps`, `N bodies`, `iterations`
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô `[COUNT]` + unit `#`

> ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ó‡∏∏‡∏Å‡πÉ‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏ä‡∏ß‡πå: `Value + UnitBadge + CategoryBadge + ModeBadge` ‡πÄ‡∏™‡∏°‡∏≠

---

## 6) ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà ‚Äú‡∏•‡∏ö‡∏≠‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏°‡∏∂‡∏á‚Äù

- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏≤‡∏Å‡∏ö‡∏≤‡∏ó x ‡∏ö‡∏ô panels/cards
- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ Save/Export ‡∏ù‡∏±‡πà‡∏á Input (Right Panel)
- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ Save/Export ‡πÉ‡∏ô Center HUD
- ‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ Data tab ‡πÉ‡∏ô Right Panel (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô Notes + New Note)

---

## 7) ‡∏™‡∏£‡∏∏‡∏õ ‚Äú‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà dev/AI ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏ö‡∏ö‡∏´‡πâ‡∏≤‡∏°‡∏´‡∏•‡∏∏‡∏î‚Äù

1. ‡∏ó‡∏≥ Metric Card ‡πÅ‡∏ö‡∏ö 1-1-1 ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô component ‡∏Å‡∏•‡∏≤‡∏á (‡∏ó‡∏∏‡∏Å metric ‡πÉ‡∏ä‡πâ‡∏≠‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô)
2. ‡∏ó‡∏≥ checkbox ‚Üí Graph Dock selection pipeline
3. ‡∏ó‡∏≥ Dock auto-group ‡∏î‡πâ‡∏ß‡∏¢ `plot_group` + rule ‡πÅ‡∏¢‡∏Å‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ô‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°
4. ‡∏¢‡πâ‡∏≤‡∏¢ Save/Export ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÑ‡∏õ Left Panel > Results Actions ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
5. Right panel: Equations/Params/Inspector/Notes(+New Note) ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
6. Unit categories: QNT/QLT/COUNT ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏õ‡πá‡∏ô badge ‡∏ó‡∏∏‡∏Å‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô

---

‡∏ñ‡∏±‡∏î‡πÑ‡∏õ (‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á ‚Äú‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏à‡∏∞‡πÇ‡∏ä‡∏ß‡πå‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á‚Äù) ‡∏ö‡∏≠‡∏Å‡∏Å‡∏π‡πÅ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ‡∏û‡∏≠:

- ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ metric ‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á ‡πÜ ‡πÉ‡∏ô‡∏ã‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡∏°‡∏∂‡∏á‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á (list key ‡∏Ñ‡∏£‡πà‡∏≤‡∏ß ‡πÜ: E,K,U,L,Œ©,stability,COM drift, etc.)  
    ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏π‡∏à‡∏∞‡∏ó‡∏≥ ‚Äú‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏î‡πá‡∏î‚Äù ‡πÉ‡∏´‡πâ: **metric ‚Üí unit ‚Üí category ‚Üí plot_group ‚Üí default show ‚Üí overlay rules** ‡πÅ‡∏ö‡∏ö‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏¢‡∏±‡∏î‡πÉ‡∏´‡πâ AI ‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢.

## Insight

‡πÅ‡∏Å‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ ‚ÄúUI ‡∏™‡∏ß‡∏¢‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏û‡∏±‡∏á‚Äù ‡∏Ñ‡∏∑‡∏≠ **Contract-First**:

- UI ‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö = ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô **schemas/typing/contracts** ‡∏Å‡πà‡∏≠‡∏ô
- ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏ó‡∏≥ FE/BE/DB ‡πÉ‡∏´‡πâ ‚Äú‡∏≠‡πà‡∏≤‡∏ô contract ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‚Äù
- ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢ **Gate tests** (G0‚ÄìG4) ‡πÉ‡∏´‡πâ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ô

---

# Phase Plan (‡∏ó‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏£‡∏≠‡∏ö ‡πÅ‡∏ï‡πà‡∏à‡∏ö‡∏ó‡∏µ‡πà DB + replay ‡πÑ‡∏î‡πâ)

## Phase 1 ‚Äî UX/UI Spec (‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á ‚Äú‡∏ï‡∏£‡∏∂‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πÄ‡∏õ‡∏Å‚Äù)

### Deliverables

1. **UI Blueprint v0.3** (‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏•‡πá‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß)
2. **Component Spec** (‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏≠‡∏°‡πÇ‡∏û‡πÄ‡∏ô‡∏ô‡∏ï‡πå‡∏°‡∏µ props ‡∏≠‡∏∞‡πÑ‡∏£)
3. **Interaction Spec** (checkbox‚Üídock, graph expand, hide panels)
4. **Design Tokens** (spacing/typography/radius/glass/border) = ‚Äú‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á UI‚Äù

### ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏õ FE)

- **Metric Card Contract** (1-1-1)
    - `metric_id, label, symbol, value, unit, unit_category(QNT/QLT/COUNT), mode(PHY/UET/IND/#), plot_group, default_visible`
        
- **Graph Dock Contract**
    - `selected_metric_ids[]`, `view_mode`, `range`, `auto_grouping_rules`
        
- **Save/Export Contract**
    - Save = db only
    - Export = file only (choose format at export time)
        
- **Notes Contract**
    - Notes tab ‡∏°‡∏µ `New Note` + auto-save
        
- **No ‚Äúx‚Äù close** anywhere, only Hide/Show buttons

> ‡∏à‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ ‚Äú‡πÅ‡∏õ‡∏•‡∏á‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πÄ‡∏õ‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‚Äù ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô FE ‡∏à‡∏∞‡∏°‡∏±‡πà‡∏ß‡πÄ‡∏≠‡∏á

---

## Phase 2 ‚Äî Frontend Architecture (‡∏ú‡∏π‡∏Å UI ‡∏Å‡∏±‡∏ö state ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏û‡∏±‡∏á)

### 2.1 ‡πÇ‡∏Ñ‡∏£‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (Layout)

- `TopNavShell`
- `WorldCanvasLayer`
- `LeftOutputPanel` (hide/show)
- `RightStudioPanel` (hide/show)
- `CenterHUD`
- `GraphDock` (bottom, collapsible)
- `ToastZone`

### 2.2 State Model (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á FE)

‡πÉ‡∏´‡πâ‡∏ó‡∏≥ store ‡∏Å‡∏•‡∏≤‡∏á (‡πÄ‡∏ä‡πà‡∏ô Zustand/Redux) ‡∏ä‡∏±‡∏î ‡πÜ:

**Core UI state**

- `ui.leftHidden`, `ui.rightHidden`, `ui.dockOpen`
- `ui.metricSearch`, `ui.unitCatFilter(QNT/QLT/ALL)`, `ui.viewMode(PHY/UET/IND/#)`

**Simulation runtime state**

- `run.status` = RUNNING/PAUSED
- `run.t`, `run.dt`, `run.steps`, `run.speed`
- `run.presetId`, `run.seed`, `run.runName`

**Selection**

- `selection.entityId`, `selection.props`

**Metrics & Telemetry**

- `telemetry.latest[metric_id] = {value, unit, unit_category, mode, ts}`
- `telemetry.series[metric_id] = [...]` (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö plot)

**Graph Dock**

- `dock.selectedMetricIds[]`
- `dock.view = time|phase|hist` (‡πÄ‡∏£‡∏¥‡πà‡∏° time ‡∏Å‡πà‡∏≠‡∏ô)
- `dock.range`, `dock.grouping`

**Persistence**

- `save.status`, `export.status`, `notes.status`

### 2.3 Component Implementation Order (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

1. `MetricCard` (collapsed/expanded + checkbox)
2. `GraphDock` (selected chips + plot area + clear)
3. `LeftOutputPanel` ‡∏£‡∏ß‡∏° card list + validation strip + selection inspector + results actions
4. `RightStudioPanel` (Equations/Params/Inspector/Notes)
5. `CenterHUD` (run controls)

> ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö ‚Äúvertical slice‚Äù ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏ï‡∏¥‡∏° polish

---

## Phase 3 ‚Äî Backend (Runner + Validation + Persistence services)

Backend (Node.js) ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ 4 service ‡∏´‡∏•‡∏±‡∏Å:

### 3.1 Simulation Service (SimRunner API)

- `POST /runs` create run from template+preset+params
- `POST /runs/:id/step` ‡∏´‡∏£‡∏∑‡∏≠ websocket stream telemetry
- `POST /runs/:id/pause | /resume | /reset`
- `GET /runs/:id/state`
- `GET /runs/:id/telemetry?metric_ids=...`

> ‡∏ñ‡πâ‡∏≤‡∏ã‡∏¥‡∏°‡∏£‡∏±‡∏ô‡πÉ‡∏ô browser ‡∏Å‡πá‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ ‚Äúschema ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠ save/export/diagnostics

### 3.2 Diagnostics Service (Tri-state)

- `POST /diagnostics/run` (contextTemplate+preset + params)
- ‡∏ú‡∏•‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô `PASS/FAIL/EXPECTED_FAIL` + evidence
- `POST /counterexamples` save replayable fail case

### 3.3 Notes Service

- `POST /runs/:id/notes`
- `GET /runs/:id/notes`
- auto-save support (debounce)

### 3.4 Gallery Service

- `GET /gallery` list presets/labs
- `POST /gallery/save` save snapshot/run into gallery

---

## Phase 4 ‚Äî API Contracts (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ú‡∏π‡∏Å FE ‚Üî BE ‚Üî DB)

‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡πÄ‡∏õ‡πá‡∏ô JSON schema / TS types ‡∏ä‡∏±‡∏î ‡πÜ (‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡∏Å‡πà‡∏≠‡∏ô‡∏•‡∏á DB)

### 4.1 LabTemplate + Preset

- template: layout, supported equations, default metric list
- preset: init world state + params + toggles

### 4.2 Metric Definition (‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏Å‡∏•‡∏≤‡∏á)

‡∏ó‡∏∏‡∏Å metric ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:

- `metric_id` (string)
- `label`, `symbol`
- `unit` (string)
- `unit_category`: QNT | QLT | COUNT
- `mode`: PHY | UET | IND | #
- `plot_group` (string)
- `dimension_group` (energy/momentum/‚Ä¶ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö QNT)
- `format` (decimal/scientific/percent)

### 4.3 Telemetry Packet

- `run_id`, `t`, `step`, `metrics: { metric_id: value }`
- ‡∏û‡∏£‡πâ‡∏≠‡∏° metadata ‡∏ß‡πà‡∏≤ units/mode ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏≠‡∏≤‡∏à‡∏™‡πà‡∏á metric_id ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ FE lookup definition ‡∏à‡∏≤‡∏Å registry)

### 4.4 Save vs Export

- Save endpoint ‡πÄ‡∏Å‡πá‡∏ö run/snapshot
- Export endpoint ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏° format ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡∏Å‡∏î

---

## Phase 5 ‚Äî Database Design (PostgreSQL) ‡πÉ‡∏´‡πâ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ‚ÄúReplay/DB/Gallery‚Äù

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏∂‡∏á‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏ö‡∏ó‡∏µ‡πà DB‚Äù

### 5.1 Tables (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥)

**templates**
- `template_id`, `name`, `category`, `layout_spec`, `created_at`

**presets**
- `preset_id`, `template_id`, `name`, `description`, `init_state_json`, `default_params_json`, `tags[]`


**runs**
- `run_id`, `template_id`, `preset_id`, `run_name`, `seed`, `unit_mode`, `status`, `created_at`
- `equation_modules_json` (ON/OFF/Role/versions)
- `params_json`

**telemetry_samples**
- `run_id`, `t`, `step`, `metrics_json` (‡∏´‡∏£‡∏∑‡∏≠ normalized ‡∏ñ‡πâ‡∏≤‡∏´‡∏ô‡∏±‡∏Å)
- index: `(run_id, step)`

**metric_registry**
- `metric_id`, `label`, `unit`, `unit_category`, `plot_group`, `mode_default`, `format`


**notes**
- `note_id`, `run_id`, `title`, `body_md`, `updated_at`

**diagnostic_runs**
- `diag_id`, `run_id`, `status(PASS/FAIL/EXPECTED_FAIL)`, `summary`, `evidence_json`, `created_at`


**counterexamples**
- `ce_id`, `template_id`, `preset_id`, `seed`, `params_json`, `snapshot_ref`, `why`, `created_at`


### 5.2 Key rule (‡πÄ‡∏û‡∏∑‡πà‡∏≠ replay ‡πÑ‡∏î‡πâ)

‡∏ó‡∏∏‡∏Å run/test ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡πá‡∏ö:
- `seed`
- `params_json`
- `equation versions/hash`
- `unit_mode`
- `snapshot_ref` (‡∏ñ‡πâ‡∏≤‡πÄ‡∏Å‡πá‡∏ö state)

‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô ‚ÄúSave to Gallery‚Äù ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏£‡∏π‡∏õ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ

---

## Phase 6 ‚Äî Tests & Gates (‡πÉ‡∏´‡πâ‡∏°‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏Ñ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö)

‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ gate suite ‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ô ‡πÅ‡∏ï‡πà‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á:

### G0 Data/Schema

- metric_registry ‡∏°‡∏µ unit_category/mode ‡∏Ñ‡∏£‡∏ö
- runs/presets/templates join ‡πÑ‡∏î‡πâ
- Save ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô: run ‡∏™‡∏£‡πâ‡∏≤‡∏á record ‡∏Ñ‡∏£‡∏ö

### G1 Runner

- deterministic (seed ‡πÄ‡∏î‡∏¥‡∏°)
- no NaN/Inf
- snapshot/replay

### G2 Oracle/Validation

- inertial 1-body
- kepler 2-body (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏° analytic)
- dt convergence

### G3 Integration

- FE ‡∏Å‡∏î Save ‚Üí DB ‡∏°‡∏µ run/telemetry
- FE ‡∏Å‡∏î Validate ‚Üí diag record ‡∏Ñ‡∏£‡∏ö + evidence

### G4 UI

- checkbox metric ‚Üí dock ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏π‡∏Å
- overlay rules ‡πÑ‡∏°‡πà‡∏°‡∏±‡πà‡∏ß (plot_group)
- Save/Export ‡∏°‡∏µ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ output side
- Notes ‡∏°‡∏µ New Note + autosave

---

# ‚Äú‡∏ó‡∏µ‡∏•‡∏∞‡∏™‡πÄ‡∏ï‡πá‡∏õ‚Äù ‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡∏°/agent ‡πÑ‡∏î‡πâ (Work Orders)

## Sprint 1 (UX‚ÜíFE Skeleton)

1. ‡∏ó‡∏≥ `metric_registry.json` (definition + unit_category + plot_group) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö metrics ‡∏´‡∏•‡∏±‡∏Å (E,K,U,L,Œ©,stability,drift,COM_drift,steps,t)
2. ‡∏ó‡∏≥ FE: MetricCard + Dock selection + auto-group rules
3. ‡∏¢‡πâ‡∏≤‡∏¢ Save/Export ‡πÑ‡∏õ Output only + ‡∏•‡∏ö‡∏à‡∏≤‡∏Å Studio

## Sprint 2 (BE/API)

4. ‡∏ó‡∏≥ endpoints: create run / telemetry stream / save run / export
5. Notes endpoints + autosave

## Sprint 3 (DB)

6. ‡∏ó‡∏≥ PostgreSQL schema ‡∏ï‡∏≤‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥
7. Save to Gallery ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á (run+snapshot+registry linkage)

## Sprint 4 (Diagnostics)

8. Diagnostics tri-state endpoints + store evidence
9. Counterexample save + Open in Lab (replay)

## Sprint 5 (Gates)

10. ‡∏ó‡∏≥ `npm run gates` ‡∏£‡∏±‡∏ô G0‚ÄìG4 ‡πÑ‡∏î‡πâ‡∏à‡∏ö‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß