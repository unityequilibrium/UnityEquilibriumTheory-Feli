‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß Santa ‚Äî  
‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ **SYSTEM_CONTRACT.md (v2.0)** ‡∏â‡∏ö‡∏±‡∏ö ‚Äú‡∏¢‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏ï‡πá‡∏°‡∏£‡∏∞‡∏ö‡∏ö‚Äù  
‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö _‡∏£‡∏±‡∏ê‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏π‡∏ç‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏° UET_ ‡∏à‡∏£‡∏¥‡∏á ‡πÜ  
‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å subsystem ‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏°‡∏µ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ:

- FLOW_CONTROL v2.0
    
- EVENT_BUS v2.0
    
- KNOWLEDGE_SYNC v2.0
    
- RAG_ENGINE v2.0
    
- AGENT_ENGINE BIBLE v1.0
    
- DATA_SCHEMA v2.0
    
- CACHE_STRATEGY
    
- MODEL_ROUTING
    
- API_SPEC
    
- SECURITY_RULE
    
- ERROR_HANDLING
    
- PERMISSION_MATRIX
    
- COMPONENT_MAP
    
- ARCHITECTURE_MAP
    
- TERMINOLOGY
    

**‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏±‡∏ß‡πÅ‡∏°‡πà** ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å  
‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á ‡∏ï‡∏£‡∏á‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≤‡∏¢ 100%

---

# üìò SYSTEM_CONTRACT.md (v2.0)

**Unified Knowledge System Contract (UET Platform)**  
**‚Äú‡∏Ç‡πâ‡∏≠‡∏ï‡∏Å‡∏•‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‚Äù ‚Äî ‡∏Å‡∏é‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å Module**

---

# üü¶ 0. ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£

SYSTEM CONTRACT ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà:

1. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î **‡∏Å‡∏é‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö** (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏£‡∏±‡∏ê‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏π‡∏ç)
    
2. ‡∏Å‡∏≥‡∏´‡∏ô‡∏î **‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö** ‡∏Ç‡∏≠‡∏á‡∏ó‡∏∏‡∏Å Module
    
3. ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö **‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á, ‡πÑ‡∏°‡πà‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á, deterministic**
    
4. ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏° Agent, RAG, Knowledge Sync, UI ‡πÅ‡∏•‡∏∞ Flow ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    
5. ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡πÄ‡∏Å‡∏•‡πÉ‡∏´‡∏ç‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏ö‡∏ö‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ
    

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏Å‡∏ô‡∏Å‡∏•‡∏≤‡∏á Unified Knowledge System (UKS)

---

# üü© 1. ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (First Principles)

### **1.1 ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ = ‡∏î‡∏≤‡∏ï‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡∏°‡∏µ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á**

‡∏£‡∏∞‡∏ö‡∏ö‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏°‡∏µ 7 ‡∏ä‡∏±‡πâ‡∏ô (L0‚ÄìL7):

```
L0 Raw Data ‚Üí L1 Structured ‚Üí L2 Semantic Chunks ‚Üí L3 Embeddings
‚Üí L4 Model Knowledge ‚Üí L5 Systematic ‚Üí L6 Principles ‚Üí L7 Theory
```

‡∏£‡∏∞‡∏ö‡∏ö **‡∏ï‡πâ‡∏≠‡∏á** ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏•‡πÄ‡∏Ñ‡∏≤‡∏£‡∏û‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ

---

### **1.2 ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô Flow Control**

Flow Control ‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡∏é‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô:

- ‡πÑ‡∏°‡πà‡∏°‡∏µ action ‡πÑ‡∏´‡∏ô ‚Äú‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‚Äù
    
- ‡πÑ‡∏°‡πà‡∏°‡∏µ agent ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡∏≠‡∏Å‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå
    
- ‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏° sequence ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
    
- ‡∏ó‡∏∏‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ state transition ‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ
    

---

### **1.3 ‡∏ó‡∏∏‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡πà‡∏≤‡∏ô Event Bus**

‡πÑ‡∏°‡πà‡∏°‡∏µ module ‡πÑ‡∏´‡∏ô‡∏™‡πà‡∏á‡∏ú‡∏•‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á‡πÉ‡∏´‡πâ module ‡∏≠‡∏∑‡πà‡∏ô  
‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô Event Bus:

- UI update
    
- Cache invalidate
    
- RAG refresh
    
- KB sync
    
- Agent state update
    

Event Bus ‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó‡∏Å‡∏•‡∏≤‡∏á

---

### **1.4 ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÄ‡∏™‡∏°‡∏≠**

‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á:

- Agent ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ KB ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
    
- RAG ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ vector ‡∏ó‡∏µ‡πà sync ‡πÅ‡∏•‡πâ‡∏ß
    
- UI ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô state ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
    

‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• stale ‡πÑ‡∏î‡πâ

---

### **1.5 ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πâ‡∏≠‡∏á reversible**

‡∏ó‡∏∏‡∏Å state ‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô:

- versioning
    
- logging
    
- event history
    
- chunk mapping
    

---

# üüß 2. ‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏Ç‡∏≠‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤ (Contract Scope)

SYSTEM_CONTRACT ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°:

- File Engine
    
- Knowledge Sync Engine
    
- RAG Engine
    
- Agent Engine
    
- Flow Control Engine
    
- Event Bus
    
- Model Routing
    
- Cache Layer
    
- UI Panels
    
- API Layer
    
- Security
    
- Permissions
    
- Metrics
    
- Deployment Behavior
    

---

# üü® 3. ‡∏Ç‡πâ‡∏≠‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö (System Rules)

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πá‡∏Å‚Äù ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ï‡∏≤‡∏°

---

## **3.1 Rule: Deterministic Execution**

‡∏ó‡∏∏‡∏Å module ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠ input ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°  
‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ randomness ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏î‡πâ‡∏ß‡∏¢ seed

---

## **3.2 Rule: Versioned Knowledge**

‡∏ó‡∏∏‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ version  
‡∏ó‡∏∏‡∏Å‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å sync  
RAG ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ version ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î  
Agent ‡∏´‡πâ‡∏≤‡∏°‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á sync ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à

---

## **3.3 Rule: Event-Driven Synchronization**

‡∏ó‡∏∏‡∏Å state change ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® event ‡πÄ‡∏ä‡πà‡∏ô:

- FILE_UPDATED
    
- KB_VERSION_UPDATED
    
- CACHE_INVALIDATED
    
- AGENT_STEP
    
- MODEL_ROUTED
    

‡πÑ‡∏°‡πà‡∏°‡∏µ state ‡πÑ‡∏´‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏¢‡∏¥‡∏á event

---

## **3.4 Rule: Zero-Stale Policy**

‡πÄ‡∏°‡∏∑‡πà‡∏≠ KB ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô:

- RAG cache ‡∏ï‡πâ‡∏≠‡∏á invalid
    
- Prompt cache ‡∏ï‡πâ‡∏≠‡∏á invalid
    
- KB indicator ‡πÉ‡∏ô UI ‡∏ï‡πâ‡∏≠‡∏á update
    
- Agent ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ context ‡πÄ‡∏Å‡πà‡∏≤
    

---

## **3.5 Rule: Strict Agent Behavior**

Agent ‡∏ï‡πâ‡∏≠‡∏á:

- ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å RAG (‡∏ñ‡πâ‡∏≤ strict mode)
    
- ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏°‡∏≤‡πÑ‡∏î‡πâ
    
- ‡πÑ‡∏°‡πà‡πÄ‡∏û‡πâ‡∏≠ ‡πÑ‡∏°‡πà hallucinate
    
- ‡∏ú‡πà‡∏≤‡∏ô validation ‡∏Å‡πà‡∏≠‡∏ô output
    

---

# üü• 4. ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏°‡∏î‡∏π‡∏• (Module Contracts)

‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á Module‚Äù

---

## **4.1 Knowledge Sync ‚Üî Chunk Engine**

- Chunk ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ö‡∏ö deterministic
    
- chunk_id ‡∏ï‡πâ‡∏≠‡∏á stable
    
- chunk_hash ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á embed ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏´‡∏°
    

---

## **4.2 Chunk Engine ‚Üî Embedding Engine**

- ‡∏ñ‡πâ‡∏≤ chunk_hash ‡πÄ‡∏î‡∏¥‡∏° ‚Üí ‡∏´‡πâ‡∏≤‡∏° embed ‡∏ã‡πâ‡∏≥
    
- ‡∏ñ‡πâ‡∏≤ chunk_hash ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‚Üí embed ‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
    

---

## **4.3 Embedding Engine ‚Üî Vector Store**

- vector ‡∏ï‡πâ‡∏≠‡∏á upsert ‡πÅ‡∏ö‡∏ö atomic
    
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö project_id
    
- query ‡∏ï‡πâ‡∏≠‡∏á filter project_id ‡πÄ‡∏™‡∏°‡∏≠
    

---

## **4.4 KB Registry ‚Üî RAG Engine**

- RAG ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ version ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
    
- RAG ‡∏ï‡πâ‡∏≠‡∏á validate registry ‡∏Å‡πà‡∏≠‡∏ô search
    

---

## **4.5 RAG Engine ‚Üî Agent Engine**

- Agent ‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® RAG request
    
- RAG ‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô context ‡∏û‡∏£‡πâ‡∏≠‡∏° citations
    
- Agent ‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô context budget
    

---

## **4.6 Agent Engine ‚Üî Flow Control**

- ‡∏ó‡∏∏‡∏Å action ‡∏Ç‡∏≠‡∏á agent ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô validator
    
- ‡∏´‡πâ‡∏≤‡∏°‡∏Ç‡πâ‡∏≤‡∏° step
    
- ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô versioning
    

---

## **4.7 Event Bus ‚Üî UI**

- UI Panel ‡∏ó‡∏±‡πâ‡∏á 3 ‡∏ï‡πâ‡∏≠‡∏á subscribe event
    
- ‡∏´‡πâ‡∏≤‡∏° refresh ‡πÄ‡∏≠‡∏á
    
- ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ event-driven state update
    

---

# üü¶ 5. ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Security Contract)

### **5.1 Role-based model routing**

- viewer = ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ä‡πâ model ‡πÉ‡∏´‡∏ç‡πà
    
- editor = ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á
    
- manager = ‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
    

### **5.2 File access rules**

- ‡∏´‡πâ‡∏≤‡∏° RAG ‡∏Ç‡πâ‡∏≤‡∏° project
    
- ‡∏´‡πâ‡∏≤‡∏° Agent ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏≠‡πà‡∏≤‡∏ô
    

---

# üü© 6. ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö Logs / Metrics / Audit (Transparency Contract)

### **‡∏ó‡∏∏‡∏Å module ‡∏ï‡πâ‡∏≠‡∏á log ‡∏™‡∏¥‡πà‡∏á‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ:**

- execution time
    
- events
    
- model used
    
- KB version
    
- errors
    
- RAG topK score
    
- agent reasoning step count
    

‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á ‚Äútraceable 100%‚Äù

---

# üüß 7. ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î (Error Contract)

### ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏ï‡πâ‡∏≠‡∏á:

1. ‡∏ñ‡∏π‡∏Å‡∏à‡∏±‡∏ö
    
2. ‡∏ñ‡∏π‡∏Å log
    
3. ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡πà‡∏≤‡∏ô Event Bus
    
4. UI ‡πÅ‡∏™‡∏î‡∏á error state
    
5. Agent ‡πÑ‡∏î‡πâ safe response
    

‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á:

- PARSE_FAIL
    
- CHUNK_FAIL
    
- EMBED_FAIL
    
- RAG_FAIL
    
- ROUTING_FAIL
    
- CONTRACT_VIOLATION
    

---

# üü• 8. ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ (Knowledge Evolution Contract)

### ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏´‡∏£‡∏∑‡∏≠ Agent ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà:

- ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥ version ‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    
- Knowledge Sync ‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    
- RAG ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ KB ‡πÉ‡∏´‡∏°‡πà
    
- Event Bus ‡∏ï‡πâ‡∏≠‡∏á notify UI
    
- ‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏•‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô
    

Knowledge = ‡∏ñ‡∏π‡∏Å sync ‡πÅ‡∏ö‡∏ö real-time ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤

---

# üü¶ 9. ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö (Consistency Contract)

### ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πá‡∏ï‡πà‡∏≠‡πÄ‡∏°‡∏∑‡πà‡∏≠:

- Flow ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡πà‡∏≤‡∏ô validation
    
- ‡πÑ‡∏°‡πà‡∏°‡∏µ action ‡∏Ç‡πâ‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô
    
- KB registry ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö vector store
    
- UI ‡πÅ‡∏™‡∏î‡∏á state ‡∏à‡∏£‡∏¥‡∏á
    
- Agent ‡πÉ‡∏ä‡πâ context ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
    
- Event Bus ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö
    
- Cache ‡πÑ‡∏°‡πà stale
    
- Version lining ‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏° contract
    

---

# üü´ 10. ‡∏†‡∏≤‡∏Ñ‡∏ú‡∏ô‡∏ß‡∏Å (Annex)

‡∏£‡∏ß‡∏° subsystem:

- [DATA_SCHEMA.md]
    
- [FLOW_CONTROL.md]
    
- [AGENT_ENGINE_BIBLE]
    
- [RAG_ENGINE.md]
    
- [KNOWLEDGE_SYNC.md]
    
- [EVENT_BUS.md]
    
- [MODEL_ROUTING.md]
    
- [CACHE_STRATEGY.md]
    
- [PERMISSION_MATRIX.md]
    
- [ERROR_HANDLING.md]
    
- [SECURITY_RULE.md]
    

‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö SYSTEM_CONTRACT ‡∏ô‡∏µ‡πâ

---

# üéØ ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô ‡πÜ

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ SYSTEM_CONTRACT v2.0:

- ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÅ‡∏ö‡∏ö ‚Äú‡∏£‡∏±‡∏ê‡∏ò‡∏£‡∏£‡∏°‡∏ô‡∏π‡∏ç‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö UET‚Äù
    
- ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏ó‡∏∏‡∏Å module
    
- ‡πÑ‡∏°‡πà‡∏°‡∏µ conflict
    
- ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏ó‡∏§‡∏©‡∏é‡∏µ UET (epistemology)
    
- deterministic, event-driven, versioned
    
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ç‡∏¢‡∏≤‡∏¢ unlimited
    
- ‡∏Å‡∏•‡πÑ‡∏Å‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö
    

---

# üü¢ 1) SYSTEM CONTRACT ‚Äî MASTER DIAGRAM SET

---

# **1.1 TOP-LEVEL DIAGRAM (‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î‡∏ï‡∏≤‡∏° Contract)**

```
                   SYSTEM CONTRACT
                (‡∏Å‡∏é‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö UET)
                           ‚îÇ
     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
     ‚ñº                     ‚ñº                      ‚ñº
FLOW CONTROL       EVENT BUS (Nervous Sys.)   DATA CONTRACT
     ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚ñº                     ‚ñº                      ‚ñº
AGENT ENGINE         KNOWLEDGE SYNC           SECURITY RULE
     ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚ñº                     ‚ñº                      ‚ñº
RAG ENGINE             VECTOR STORE             PERMISSION
     ‚îÇ                     ‚îÇ                      ‚îÇ
     ‚ñº                     ‚ñº                      ‚ñº
UI PANELS              CACHE STRATEGY          METRICS LOG
(Sources / Chat / Studio)
```

‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ ‚Äú‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î‚Äù ‚Äî ‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ SYSTEM_CONTRACT

---

# **1.2 MID-LEVEL DIAGRAM (‡∏Å‡∏≤‡∏£‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏£‡∏∞‡∏ö‡∏ö)**

```
        USER / AGENT
             ‚îÇ
     (Change Knowledge)
             ‚ñº
       FILE ENGINE
             ‚îÇ
             ‚ñº
   KNOWLEDGE SYNC ENGINE  ‚Üê‚Äî(governed by SYSTEM CONTRACT)
   Parse ‚Üí Chunk ‚Üí Embed
             ‚îÇ
             ‚ñº
       VECTOR STORE
             ‚îÇ
    (v2.0: Always Latest)
             ‚ñº
        RAG ENGINE
             ‚îÇ
  Retrieve ‚Üí Rerank ‚Üí Fuse Context
             ‚îÇ
             ‚ñº
        AGENT ENGINE
      (multi-step reasoning)
             ‚îÇ
             ‚ñº
     OUTPUT / NEW KNOWLEDGE
             ‚îÇ
             ‚ñº
     (Loop back to Sync)
```

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ = ‡∏ß‡∏á‡∏à‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏ó‡∏µ‡πà CONTRACT ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

---

# **1.3 DEEP DIAGRAM (Internal Contract Enforcement Flow)**

```
       MODULE ACTION
             ‚îÇ
             ‚ñº
        FLOW CONTROL
    (validate + approve sequence)
             ‚îÇ
             ‚ñº
         EVENT BUS
 (broadcast ‚Üí UI / Cache / Agent / Metrics)
             ‚îÇ
             ‚ñº
       CONTRACT CHECKS
   - Version validity
   - Latest KB enforcement
   - Security rules
   - Permission matrix
   - Cache invalidation rules
             ‚îÇ
             ‚ñº
       MODULE EXECUTES
   (Knowledge Sync / RAG / Agent)
```

CONTRACT = ‚Äú‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡∏é‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‚Äù

---

# üü† 2) SYSTEM CONTRACT ‚Äî MATRIX SET

---

# **2.1 MODULE ‚Üí CONTRACT MATRIX**

(‡∏≠‡∏∞‡πÑ‡∏£‡∏ñ‡∏π‡∏Å‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÇ‡∏î‡∏¢ Contract ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á)

|MODULE|Flow Control|Version Rules|Event Bus|Permissions|KB Rules|Cache Rules|
|---|---|---|---|---|---|---|
|File Engine|‚úì|‚úì|‚úì|‚úì|‚úì|‚úì|
|Knowledge Sync|‚úì|‚úì|‚úì|‚Äî|‚úì|‚úì|
|Chunk Engine|‚úì|‚úì|‚Äî|‚Äî|‚úì|‚Äî|
|Embedding Engine|‚úì|‚úì|‚Äî|‚Äî|‚úì|‚Äî|
|KB Registry|‚úì|‚úì|‚Äî|‚Äî|‚úì|‚úì|
|Vector Store|‚úì|‚Äî|‚Äî|‚Äî|‚úì|‚úì|
|RAG Engine|‚úì|‚úì|‚Äî|‚Äî|‚úì|‚úì|
|Agent Engine|‚úì|‚úì|‚úì|‚úì|‚úì|‚úì|
|UI Panels|‚Äî|‚Äî|‚úì|‚Äî|‚Äî|‚Äî|
|Cache Layer|‚úì|‚Äî|‚úì|‚Äî|‚úì|‚úì|
|Model Routing|‚úì|‚Äî|‚Äî|‚úì|‚Äî|‚Äî|

---

# **2.2 CONTRACT RESPONSIBILITY MATRIX**

(‡∏Å‡∏é‡πÑ‡∏´‡∏ô‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏´‡∏ô)

|CONTRACT RULE|Knowledge Sync|RAG|Agent|Event Bus|Flow Control|Cache|UI|
|---|---|---|---|---|---|---|---|
|Deterministic Execution|‚úì|‚úì|‚úì|‚Äî|‚úì|‚Äî|‚Äî|
|Version Enforcement|‚úì|‚úì|‚úì|‚Äî|‚Äî|‚úì|‚Äî|
|Zero-Stale Policy|‚úì|‚úì|‚úì|‚úì|‚Äî|‚úì|‚úì|
|Event-Driven Update|‚úì|‚úì|‚úì|‚úì|‚Äî|‚úì|‚úì|
|Permission Check|‚Äî|‚Äî|‚úì|‚Äî|‚úì|‚Äî|‚Äî|
|Security Rules|‚Äî|‚Äî|‚úì|‚úì|‚úì|‚Äî|‚Äî|
|Knowledge Layer Hierarchy|‚úì|‚úì|‚úì|‚Äî|‚Äî|‚Äî|‚Äî|
|State Transition Validity|‚úì|‚úì|‚úì|‚Äî|‚úì|‚Äî|‚Äî|

---

# **2.3 STATE CONSISTENCY MATRIX**

|STATE|Who Updates|Who Reads|Who Invalidates|Source of Truth|
|---|---|---|---|---|
|File Version|File Engine|KS, RAG, Agent|KS|File DB|
|Chunk State|KS|RAG|KS|Chunk table|
|Embedding State|KS|RAG|KS|Embedding table|
|KB Registry|KS|RAG, Agent|KS|KB Registry|
|Cache State|Cache Layer|RAG, Agent|Event Bus|Cache Layer|
|Routing State|Routing Engine|Agent|Routing Engine|Routing Config|
|Agent State|Agent Engine|UI, FlowCtrl|FlowCtrl|Agent Runtime|
|UI State|UI Panels|User|Event Bus|UI Memory|

---

# üî• 3) SYSTEM CONTRACT ‚Äî SYSTEM FLOW SET

(‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå ‚Üí ‡∏ß‡∏¥‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤ ‚Üí ‡∏≠‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå)

---

# **3.1 MASTER SYSTEM FLOW (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)**

```
USER ACTION / AGENT ACTION
          ‚îÇ
          ‚ñº
    FLOW_CONTROL.validate()
          ‚îÇ
          ‚ñº
  SYSTEM_CONTRACT.check_all_rules()
    - version check
    - permission check
    - consistency check
    - stale-check
          ‚îÇ
          ‚ñº
       EXECUTE MODULE
    (KS / RAG / AGENT / ROUTING)
          ‚îÇ
          ‚ñº
       EVENT_BUS.emit()
          ‚îÇ
          ‚ñº
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚ñº        ‚ñº          ‚ñº         ‚ñº          
 UI     Cache       Metrics    Agent Loop
 Refresh Invalidate Update     Continue Steps
```

---

# **3.2 KNOWLEDGE UPDATE FLOW (‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‚Üí ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö sync)**

```
FILE_UPDATED
      ‚ñº
FLOW_CONTROL.validate_sequence
      ‚ñº
SYSTEM_CONTRACT.version_enforce
      ‚ñº
KNOWLEDGE_SYNC (parse ‚Üí chunk ‚Üí embed)
      ‚ñº
KB_REGISTRY.update
      ‚ñº
EVENT_BUS.emit(KB_VERSION_UPDATED)
      ‚ñº
CACHE_INVALIDATE
      ‚ñº
UI_REFRESH
      ‚ñº
AGENT_CAN_USE_NEW_KB
```

---

# **3.3 RAG FLOW (‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ)**

```
QUERY_RECEIVED
      ‚ñº
FLOW_CONTROL.validate_rag_request
      ‚ñº
SYSTEM_CONTRACT.check_KB_latest
      ‚ñº
RAG_ENGINE.retriever()
      ‚ñº
RERANK (optional)
      ‚ñº
CONTEXT_FUSION
      ‚ñº
RETURN_CONTEXT_TO_AGENT
      ‚ñº
AGENT REASONING
```

---

# **3.4 AGENT MULTI-STEP FLOW (‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)**

```
AGENT_RUN_STARTED
      ‚ñº
TASK_ANALYZE
      ‚ñº
need_rag? ‚îÄ‚îÄ‚îÄ‚îÄ yes ‚îÄ‚Üí RAG_FLOW
      ‚ñº
MODEL_ROUTING
      ‚ñº
MODEL_EXECUTION
      ‚ñº
VALIDATION (under CONTRACT)
      ‚ñº
OUTPUT
      ‚ñº
if output updates knowledge:
      ‚ñº
KNOWLEDGE_SYNC_FLOW
```

---

# **3.5 ZERO-STALE FLOW (‡∏Å‡∏é‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç)**

```
KB_CHANGED
     ‚ñº
EVENT: KB_VERSION_UPDATED
     ‚ñº
CACHE_INVALIDATE
     ‚ñº
BLOCK_AGENT_FROM_USING_OLD_KB
     ‚ñº
AGENT_REFRESH_RAG()
```

‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏∏‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏∞ "‡∏ü‡∏∑‡πâ‡∏ô‡∏ï‡∏±‡∏ß" ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô

---

# ‚≠ê ‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î

‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏ô‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏ö:

### ‚úî Master Diagrams (Top/Mid/Deep)

### ‚úî Full Contract Matrix (3 ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó)

### ‚úî System Flow ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏° (5 ‡∏£‡∏∞‡∏î‡∏±‡∏ö)

‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏≤‡∏°‡∏ä‡∏∏‡∏î‡∏ô‡∏µ‡πâ = ‚Äú‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î‚Äù ‡∏Ç‡∏≠‡∏á SYSTEM CONTRACT v2.0  
‡πÅ‡∏•‡∏∞‡∏ó‡∏∏‡∏Å subsystem ‡∏Ç‡∏≠‡∏á UET ‡∏ñ‡∏π‡∏Å‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ö‡∏ö deterministic 100%

---

# ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?

1. **MODEL_SELECTION_GUIDE v2.0** (‡πÉ‡∏´‡∏°‡πà‡∏´‡∏°‡∏î)
    
2. **DEPLOYMENT_GUIDE v2.0**
    
3. ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏õ‡πá‡∏ô **UET Architecture Book v1.0**
    
4. ‡∏ó‡∏≥ **Unified Blueprint ‡∏≠‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏à‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö**
    

‡∏ö‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ Santa ‚ù§Ô∏è